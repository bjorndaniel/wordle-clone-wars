@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject SignInManager<User> SignInManager
<PageTitle>WordleCloneWars</PageTitle>
<CascadingValue Value="@UserUpdatedEvent">
    <div class="cover-container d-flex h-100 mx-auto flex-column">
        <header>
            <NavMenu UpdatedDisplayName="@_displayName"/>
        </header>
        @Body
        <footer class="mastfoot mt-auto">
            <div class="inner">
                <p>
                    <a href="https://github.com/bjorndaniel/wordle-clone-wars" target="_blank">Checkout the code on github</a>
                </p>
            </div>
        </footer>

    </div>
</CascadingValue>

@code{

    private string _displayName = String.Empty;
    EventCallback<string> UserUpdatedEvent => EventCallback.Factory.Create<string>(this, UserUpdated);
    
    private async Task UserUpdated(string username)
    {
        _displayName = username;
    }

}